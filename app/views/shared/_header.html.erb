<nav class="navbar navbar-toggleable-md navbar-inverse bg-primary navbar-custom-styles">

  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
          data-target="#navbarResponsive" aria-controls="navbarTogglerDemo02" aria-expanded="false"
          aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <%= link_to 'TeachBot', root_path, class: 'navbar-brand brand-blink', style: 'width: 8ch' %>
  <div class="collapse navbar-collapse" id="navbarResponsive">
    <ul class="navbar-nav mr-auto mt-2 mt-md-0">
      <li class="nav-item active">
        <a class="nav-link" href="<%= root_path %>">
          <i class="fa fa-home" aria-hidden="true"></i> Home
        </a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="<%= courses_path %>">
          <i class="fa fa-list-ul" aria-hidden="true"></i> Courses
        </a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="<%= public_chat_path %>">
          <i class="fa fa-weixin" aria-hidden="true"></i> Chat
        </a>
      </li>
    </ul>
    <ul class="nav navbar-nav float-lg-right">

      <% if current_user %>

        <li class="nav-item">
          <a class="nav-link active" href="<%= user_path(current_user) %>">
            <i class="fa fa-user-circle-o" aria-hidden="true"></i>
            <span id="header_user_link"><%= current_user.username %></span>
          </a>
        </li>

        <li class="nav-item active" style="position: relative">
          <a class="nav-link" href="<%= chats_path %>">
            <i class="fa fa-weixin" aria-hidden="true"></i> Conversations
            <%= react_component('UnreadMessages') %>
          </a>
        </li>

        <%= react_component('Notifications', {}, tag: 'li', class: 'nav-item hidden-md-down') %>

        <li class="nav-item">
          <a class="nav-link" href="<%= logout_path %>" data-method="delete">
            <i class="fa fa-plug" aria-hidden="true"></i>
            Logout
          </a>

        </li>
      <% else %>
        <li class="nav-item active">
          <a class="nav-link" href="<%= login_path %>">
            <i class="fa fa-sign-in" aria-hidden="true"></i>
            Login
          </a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="<%= signup_path %>">
            <i class="fa fa-user-plus" aria-hidden="true"></i>
            Sign Up
          </a>
        </li>
      <% end %>
    </ul>
  </div>
</nav>

<% if flash[:super_info_notice] %>
  <%= react_component('SuperResponseBlock', {message: flash[:super_info_notice], type: 'alert-info'}) %>
<% end %>

<% if flash[:super_danger_notice] %>
  <%= react_component('SuperResponseBlock', {message: flash[:super_danger_notice], type: 'alert-danger'}) %>
<% end %>

<% if flash[:super_success_notice] %>
  <%= react_component('SuperResponseBlock', {message: flash[:super_success_notice], type: 'alert-success'}) %>
<% end %>


